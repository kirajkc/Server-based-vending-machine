
{% extends 'base.html' %}
{% block content %}

<div class="middle-right">
                        <div class="paratop"><p>Dashboard</p></div>
                        <div class="nested-right">
                            <div class="box1">
                             <b><p>PRODUCTS
                             <br/>
                                5
                            </p></b>
                            </div>
                            <div class="box2">
                             <b><p>TOTAL SOLD
                             <br/>
                            20
                            </p></b>
                            </div>
                            <div class="box3">
                            <b> <p>REMAINING
                            <br/>
                                50
                             </p></b>
                            </div>
                            <div class="box4">Box4</div>
                            <div class="box5">box5</div>
                            <div class="box6">box6</div>
                            <div class="box7">
                                <div class="container1" >
                                   <script>
                                          var endpoint='{% url 'apidata'%}'
                                          var label=[]
                                          var defaultdata = []
                                          $.ajax({
                                              method: "GET",
                                              url: endpoint,
                                              success: function(data){
                                                label = data.labels
                                                defaultdata = data.default
                                                var ctx = document.getElementById('myChart1').getContext('2d');
                                                var myChart = new Chart(ctx, {
                                                    type: 'doughnut',
                                                    data: {
                                                        labels: label,
                                                        datasets: [{
                                                            label: '# of Votes',
                                                            
                                                            data: defaultdata,
                                                            backgroundColor: [
                                                                'rgba(255, 99, 132, 1)',
                                                                'rgba(54, 162, 235, 1)',
                                                                'rgba(255, 206, 86, 1)',
                                                                'rgba(75, 192, 192, 1)',
                                                                'rgba(153, 102, 255, 1)',
                                                                'rgba(255, 159, 64, 1)'
                                                            ],
                                                            borderColor: [
                                                                'rgba(255, 99, 132, 1)',
                                                                'rgba(54, 162, 235, 1)',
                                                                'rgba(255, 206, 86, 1)',
                                                                'rgba(75, 192, 192, 1)',
                                                                'rgba(153, 102, 255, 1)',
                                                                'rgba(255, 159, 64, 1)'
                                                            ],
                                                           
                                                            borderWidth:2,
                                                            hoverBorderColor:'#444'
                                                        }]
                                                    },
                                                    options: {
                                                                title:
                                                                {
                                                                display:false,
                                                                text:'# of votes',
                                                                fontSize:15,
                                                                },
                                                                legend:
                                                                {
                                                                   position:'right',
                                                                },
                                                                scales: {
                                                                    yAxes: [{
                                                                        display:false,
                                                                        stacked:true,
                                                                        ticks: {
                                                                            beginAtZero: true
                                                                                },
                                                                            gridLines:
                                                                            {
                                                                                display:false,
                                                                            }
                                                                            }]
                                                                        },
                                                                responsive:true,
                                                                maintainAspectRation:false
                                            
                                                              }
                                                            });
 
                                              },
                                              error: function(error_data){
                                                console.log("error")
                                                console.log(error_data)
                                              }
                                          })

                                          </script>

                                          <canvas id="myChart1" width="150" height="100"></canvas>

                                </div>
                            </div>
                            <div class="box8">
                                <div class="container2" >
                                   
                                   <script>
                                          var endpoint='{% url 'apidata'%}'
                                          var label=[]
                                          var defaultdata = []
                                          $.ajax({
                                              method: "GET",
                                              url: endpoint,
                                              success: function(data){
                                                label = data.labels
                                                defaultdata = data.default
                                                var ctx = document.getElementById('myChart').getContext('2d');
                                                var myChart = new Chart(ctx, {
                                                    type: 'bar',
                                                    data: {
                                                        labels: label,
                                                        datasets: [{
                                                            label: 'Quanity',
                                                            
                                                            data: defaultdata,
                                                            backgroundColor: [
                                                                'rgba(255, 99, 132, 1)',
                                                                'rgba(54, 162, 235, 1)',
                                                                'rgba(255, 206, 86, 1)',
                                                                'rgba(75, 192, 192, 1)',
                                                                'rgba(153, 102, 255, 1)',
                                                                'rgba(255, 159, 64, 1)'
                                                            ],
                                                            borderColor: [
                                                                'rgba(255, 99, 132, 1)',
                                                                'rgba(54, 162, 235, 1)',
                                                                'rgba(255, 206, 86, 1)',
                                                                'rgba(75, 192, 192, 1)',
                                                                'rgba(153, 102, 255, 1)',
                                                                'rgba(255, 159, 64, 1)'
                                                            ],
                                                           
                                                            borderWidth:2,
                                                            hoverBorderColor:'#444'
                                                        }]
                                                        
                                                    },
                                                    options: {
                                                                title:
                                                                {
                                                                display:false,
                                                                text:'# of votes',
                                                                fontSize:15,
                                                                fontColor:'grey'
                                                                },
                                                                scales: {
                                                                    yAxes: [{
                                                                        ticks: {
                                                                            beginAtZero: true
                                                                                }
                                                                            }]
                                                                        },
                                                                responsive:true,
                                                                maintainAspectRation:false
                                            
                                                              }
                                                            });
 
                                              },
                                              error: function(error_data){
                                                console.log("error")
                                                console.log(error_data)
                                              }
                                          })

                                          </script>

                                          <canvas id="myChart" width="150" height="100"></canvas>

                                </div>
                            </div>
                            <div class="box10">PRODUCTS
                                <table class="content-table table-sortable1">
                                    <thead>
                                      <tr>
                                        <th>ID</th>
                                        <th>ITEM</th>
                                        <th>QUANTITY</th>
                                        <th>PRICE</th>
                                      </tr>
                                    </thead>
                                    
                                     <tbody>
                                        {% for chart in chart.all%}
                                        <tr>
                                        <td>{{chart.tagid}}</td>
                                        <td>{{chart.item}}</td>
                                        <td>{{chart.quantity}}</td>
                                        <td>{{chart.price}}
                                        &nbsp;
                                        &nbsp;
                                        &nbsp;
                                        <a href="{% url "update" chart.id%}" style="color:#FFFFFF"><i class="fas fa-edit"></i></a>
                                        &nbsp;
                                        <a href ="{% url "delete" chart.id%}" style="color:#FFFFFF"><i class="fas fa-trash-alt"></i></a>
                                        </td>
                                        </tr>
                                        {% endfor %}
                                      </tbody>
                                </table> 
                                <script src="static/js/tablesort1.js"></script>
                            </div>


                            <div class="box9">
                            <div class="container3" >
                                   
                                   <script>
                                          var endpoint='{% url 'apidata'%}'
                                          var label=[]
                                          var defaultdata = []
                                          var price=[]
                                          $.ajax({
                                              method: "GET",
                                              url: endpoint,
                                              success: function(data){
                                                label = data.labels
                                                defaultdata = data.default
                                                price = data.price
                                                var ctx = document.getElementById('myChart2').getContext('2d');
                                                var myChart2 = new Chart(ctx, {
                                                    type: 'line',
                                                    data: {
                                                        labels: label,
                                                        datasets: [{
                                                            label: 'Quantity',
                                                            
                                                            data: defaultdata,
                                                            borderColor: [
                                                                'rgba(54, 162, 235, 0.8)'
                                                            ],
                                                           
                                                            borderWidth:3,
                                                            pointBorderColor:'rgba(54, 162, 235, 1)'
                                                            
                                                           
                                                            
                                                        },
                                                        {
                                                        label: 'Price',
                                                            
                                                            data: price,
                                                            borderColor: [
                                                                'rgba(255, 99, 132, 0.8)'
                                                            ],
                                                           
                                                            borderWidth:3,
                                                            pointBorderColor:'rgba(255, 99, 132, 1)'
                                                           
                                                        }
                                                        
                                                        ]
                                                        
                                                    },
                                                    options: {
                                                                title:
                                                                {
                                                                display:false,
                                                                text:'# of votes',
                                                                fontSize:15,
                                                                fontColor:'grey'
                                                                },
                                                                scales: {
                                                                    yAxes: [{
                                                                        ticks: {
                                                                            beginAtZero: true
                                                                                }
                                                                            }]
                                                                        },
                                                                responsive:true,
                                                                maintainAspectRation:false
                                            
                                                              }
                                                            });
 
                                              },
                                              error: function(error_data){
                                                console.log("error")
                                                console.log(error_data)
                                              }
                                          })

                                          </script>

                                          <canvas id="myChart2" width="150" height="100"></canvas>

                                </div>
                            
                            </div>
                            <div class="box11"></div> 
                            
                    </div>
                        <div class="parabot"><p>Digital</p></div>
                        
                    </div>

</div>
{% endblock  %}           